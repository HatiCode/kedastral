apiVersion: keda.sh/v1alpha1
kind: ScaledObject
metadata:
  name: test-app-scaledobject
  namespace: test-app
spec:
  scaleTargetRef:
    name: test-app
    kind: Deployment
  minReplicaCount: 2
  maxReplicaCount: 20
  pollingInterval: 15 # How often KEDA checks (seconds)
  cooldownPeriod: 60 # Wait time after last trigger before scaling to 0
  triggers:
    - type: external
      metadata:
        scalerAddress: kedastral-scaler.test-app:50051
        workload: test-app
        metricName: kedastral-test-app-desired-replicas
